var Remote,typeIsArray,__bind=function(t,e){return function(){return t.apply(e,arguments)}};typeIsArray=function(t){return"[object Array]"==={}.toString.call(t)},window.rlog=function(t,e){var o,i,n,r,s;return null==e&&(e=3e3),e=(s=100*t.length)>3e3?3e3:s,r=(o=$(".debug_msg .debug_el:last")).offset(),n=r?r.top+2+o.height():10,i=$("<p class='debug_el' style='top: "+n+"px'>"+t+"</p>"),i.appendTo(".debug_msg").fadeOut(e,function(){return $(this).remove()})},Remote=function(){function t(){this.executeShellCommand=__bind(this.executeShellCommand,this),this.onRemoteClick=__bind(this.onRemoteClick,this),this.saveIPAdress=__bind(this.saveIPAdress,this),this.bindEvents=__bind(this.bindEvents,this),this._create_box=__bind(this._create_box,this),this.create_boxes=__bind(this.create_boxes,this);var t,e,o,i;(e=this.default_options).img_width||(e.img_width=$("#front img").width()),(o=this.default_options).img_height||(o.img_height=$("#front img").height()),(i=this.default_options).IMG_RATIO||(i.IMG_RATIO=this.default_options.img_width/this.default_options.ORIGINAL_WIDTH),window.widget&&(t=widget.preferenceForKey("onkyoip"),t&&t.length>0&&(this.default_options.receiver_ip=t),$("#ip_adress").val(this.default_options.receiver_ip)),this.bindEvents()}return t.prototype.default_options={receiver_ip:"192.168.178.26",receiver_port:60128,ORIGINAL_HEIGHT:2107,ORIGINAL_WIDTH:897,IMG_RATIO:.2842809364548495,button_coordinates:{on_off:[38,41,30,31],bd_dvd:[35,86,36,20],custom:[36,121,36,20],receiver:[35,156,36,20],tv:[35,191,36,20],tv_on_off:[35,231,36,20],input:[35,277,36,20],cbl_sat:[88,85,37,20],aux:[88,120,37,20],tv_cd:[88,156,37,20],mute_zone1:[88,191,37,20],vol_up_zone1:[93,227,30,31],vol_down_zone1:[93,258,30,38],game:[142,85,36,21],am:[142,120,36,21],net:[142,155,36,21],display:[142,191,36,21],ch_disc:[147,226,30,31],album:[147,257,30,38],source:[200,40,30,31],pc:[198,85,36,20],fm:[198,120,36,20],usb:[198,156,36,20],mute_zone2:[198,191,36,20],vol_up_zone2:[200,224,34,37],vol_down_zone2:[200,261,34,39],guide:[46,322,23,24],setup:[46,402,23,24],arr_left:[77,348,25,60],arr_top:[109,314,60,26],arr_right:[170,348,25,60],arr_bottom:[109,408,60,26],enter:[113,352,43,42],audio_home:[124,449,23,24],"return":[201,402,23,24],video:[201,322,23,24]},translate_char2_eiscp:{on_off:["PWR00","PWR01"],bd_dvd:"SLI10",custom:"",receiver:"",tv:"",tv_on_off:"",input:"",cbl_sat:"SLI01",aux:"SLI03",tv_cd:"SLI23",mute_zone1:["AMT00","AMT01"],vol_up_zone1:"MVLUP",vol_down_zone1:"MVLDOWN",game:"SLI02",am:"SLI25",net:"SLI2B",display:"SLI26",ch_disc:"",album:"",source:"",pc:"SLI05",fm:"SLI24",usb:"SLI2C",mute_zone2:["ZMT00","ZMT01"],vol_up_zone2:"ZVLUP",vol_down_zone2:"ZVLDOWN",guide:"OSDMENU",setup:"OSDQUICK",arr_left:"OSDLEFT",arr_top:"OSDUP",arr_right:"OSDRIGHT",arr_bottom:"OSDDOWN",enter:"OSDENTER",audio_home:"OSDHOME","return":"OSDEXIT",video:"OSDVIDEO"},toggle_button_states:{}},t.prototype.create_boxes=function(){var t,e,o,i,n;e=this.default_options.IMG_RATIO,i=this.default_options.button_coordinates,n=[];for(t in i)o=i[t],n.push(this._create_box(o[0],o[1],o[2],o[3]));return n},t.prototype._create_box=function(t,e,o,i,n){var r;return null==n&&(n=3e3),r=$("<div class='testbox' style='left: "+t+"px; top: "+e+"px; width: "+o+"px; height: "+i+"px'></div>"),r.appendTo("body").fadeOut(n)},t.prototype.bindEvents=function(){var t,e;return $("#front img").on("click",this.onRemoteClick),e=new AppleInfoButton($("#to_back .config_icon")[0],$("#front")[0],"white","white",this.showBack),t=new AppleGlassButton($(".done")[0],"Done",this.showFront),$("#ip_adress").on("change",this.saveIPAdress),console.log,$("#front").mouseenter(function(){return console.log($("#to_back").css("opacity")),"1"!==$("#to_back").css("opacity")?$("#to_back").fadeTo(500,1):void 0}).mouseleave(function(){return $("#to_back").fadeTo(500,0)})},t.prototype.saveIPAdress=function(t){var e;return window.widget&&(e=$(t.target).val(),e&&e.length>0)?(widget.setPreferenceForKey(e,"onkyoip"),this.default_options.receiver_ip=e):void 0},t.prototype.onRemoteClick=function(t){var e,o,i,n,r,s,_,a,d,u;_=t.pageX,a=t.pageY,d=this.default_options.button_coordinates,u=[];for(i in d){if(o=d[i],n=o[0],s=o[1],r=o[0]+o[2],e=o[1]+o[3],_>=n&&r>=_&&a>=s&&e>=a){this._create_box(n,s,o[2],o[3]),this.executeShellCommand(i);break}u.push(void 0)}return u},t.prototype.executeShellCommand=function(t){var e,o;return window.widget&&(o=this.default_options.translate_char2_eiscp[t])?(typeIsArray(o)&&(e=this.default_options.toggle_button_states[t]||0,o=this.default_options.translate_char2_eiscp[t][e],this.default_options.toggle_button_states[t]=0===e?1:0),window.widget.system("/usr/local/bin/octl "+o+" "+this.default_options.receiver_ip+" "+this.default_options.receiver_port)):void 0},t.prototype.showBack=function(){var t,e;return window.widget?(e=$("#front"),t=$("#back"),widget.prepareForTransition("ToBack"),e.hide(),t.show(),setTimeout(function(){return widget.performTransition()},0)):void 0},t.prototype.showFront=function(){var t,e;return window.widget?(e=$("#front"),t=$("#back"),widget.prepareForTransition("ToFront"),e.show(),t.hide(),setTimeout(function(){return widget.performTransition()},0)):void 0},t}(),$(function(){return window.remote=new Remote,window.widget?widget.onremove=function(){return window.remote=null}:void 0});